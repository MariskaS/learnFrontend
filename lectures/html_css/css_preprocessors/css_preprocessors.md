# Препроцессоры
**CSS препроцессоры** являются мощным инструментом, в умелых руках способным ускорить и упростить написание кода.

Препроцессоры существенно расширяют ваши возможности, например, позволяют использовать переменные, вкладывать селекторы друг в друга, а также писать целые функции внутри CSS.

В данном гайде мы рассмотрим 3 популярных препроцессора, схожих по синтаксису и функционалу. Выбор нужного будет зависеть от ваших личных предпочтений и решения команды на проекте, но лучше ознакомиться с каждым, чтобы иметь возможность быстро включиться в работу.

### Sass

Документация на [русском](https://sass-scss.ru/documentation/) и  [английском](https://sass-lang.com/documentation)

На данный момент самый распространенный препроцессор, который поддерживает большое сообщество разработчиков. Имеет понятный синтаксис и функционал, которого хватает для решения любых стандартных (и нестандартных ) задач на проектах. 

Существует в двух вариациях - **Sass** и **SCSS**, которые немного отличаются по синтаксису ( в **Sass** у селекторов не ставятся фигурные скобки **{ }**, а свойствам не нужна точка с запятой **;** в конце строки).

[Подключается](https://sass-scss.ru/install/) огромным количеством способов.

С синтаксисом проще всего ознакомиться в документации, здесь будет несколько примеров написания стилей с помощью *SCSS*.

**Импорт файлов**

Обычно структура проекта состоит из компонентов, которые имеют свои файлы стилей для более быстрого поиска и удобной работы. Эти файлы подключаются в основном стилевом файле (обычно styles.scss), который компилируется в стандартный css. С помощью препроцессоров их легко и удобно импортировать в нужное место:

``` 
@import 'header';
``` 

**Объявление переменных**

С помощью символа **$** в **Sass/SCSS** объявляются переменные:

``` 
$primary-color: #fda;
$secondary-color #2d43b1;
``` 

Теперь вместо написания HEX кода цвета можно использовать нужную переменную, при изменении которой цвет изменится глобально на всем проекте.

**Вложенности:**

Еще одна полезная фича, позволяющая вкладывать селекторы по типу HTML структуры. Здесь важно не переусердствовать и не делать слишком глубокие вложенности, затрудняющие чтение.

``` 
footer {
    background-color: #bbb;

    img {
        width: 150px;
    }

    a {
        color: $primary-color;
    }
}
``` 
 
Данный код при компиляции превратится в стандартный вид в CSS: 
 
``` 
footer {
 background-color: #bbb;
}

footer img {
 width: 150px;
}

footer a {
 color: #fda;
}
 ``` 

Также во вложенностях удобно использовать амперсанды **&** для ускорения написания кода.

**&** - текущий селектор, в котором пишутся свойства. Вместе с **BEM** являются крайне удобной связкой:

``` 
.card {
    margin: 20px 50px;
    width: 200px;

    &:last-of-type {
        margin-right: 0;
    }

    &__link {
        color: $primary-color;
        
        &:hover {
            text-decoration: underline;
        }
    }
}
 ``` 
**CSS** вариант:

 ``` 
.card {
    margin: 20px 50px;
    width: 200px;
}

.card:last-of-type {
    margin-right: 0;
}

.card__link {
    color: #fda;
}

.card__link:hover {
    text-decoration: underline;
}
 ``` 

**Миксины**

Некоторые группы свойств часто дублируются у разных элементов, поэтому можно создать отдельную **примесь** и добавлять ее нужным селекторам:

 ``` 
@mixin box-model {
    border: 1px solid $secondary-color;
    box-sizing: border-box;
    border-radius: 4px;
}

.card-item {
    margin: 20px 50px;
    @include box-model;
}
 ``` 

###LESS

Препроцессор **LESS** в последнее время немного сдал позиции, (например, самый известный фреймворк [Bootstrap](https://getbootstrap.com) перешел с **LESS** на **SASS**), но все еще остается популярным и востребованным инструментом, к тому же у него чуть более "сахарный" синтаксис.

Документация, подключение и примеры использования на [русском](https://lesscss.ru/) и [английском](http://lesscss.org/)

Разница с **SASS** небольшая, основная часть функционала совпадает, но есть и некоторые отличия. Например, для объявления переменных используется символ **@** вместо **$**:

 ``` 
@primary-color: #fda;
@secondary-color #2d43b1;
 ``` 

**Миксины** в **LESS** создаются с помощью копирования названия селектора, который содержит нужные свойства:

 ``` 
.box-model {
    border: 1px solid $secondary-color;
    box-sizing: border-box;
    border-radius: 4px;
}

.card {
    margin: 20px 50px;
    .box-model;
}
 ``` 

[Более детальное сравнение](https://www.keycdn.com/blog/sass-vs-less) **LESS** и **SASS**


### Stylus

[Документация](http://stylus-lang.com/)

Мощный и гибкий препроцессор, который появился позже других и довольно резко стал популярным, но, к сожалению, в последние годы перестал получать поддержку от разработчиков. Однако, существуют проекты, где **Stylus** до сих пор используется


###Заключение

Препроцессоры дают ощутимые преимущества в сранении со стандартным CSS. С их помощью можно запускать циклы, играть с ~~шрифтами~~ цветами, проводить математические операции и много чего еще. 
Обязательно пользуйтесь препроцессорами в работе, ведь они существенно ускоряют разработку и расширяют функционал, после чего возможности ванильного CSS кажутся ограниченными.
Главное, использовать этот инструмент с умом, потому что плохой код в SASS/LESS/Stylus при компиляции ухудшится многократно.

[Сравнение и статистика](https://stackshare.io/stackups/less-vs-sass-vs-stylus) трех представленных препроцессоров
